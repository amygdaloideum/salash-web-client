{"version":3,"sources":["/index.js","/App.js","/routes.js","/modules/App/App.js","/modules/App/components/Toolbar/Toolbar.js","/modules/App/components/Footer/Footer.js","/modules/App/pages/StartPage/StartPage.jsx","/modules/Recipe/components/RecipeQuickSearch/RecipeQuickSearch.js","/modules/App/components/Menu/Menu.js","/modules/Category/CategoryActions.js","/util/api.js","/modules/App/app-reducer.js","/util/action-creator.js","/modules/Category/CategoryReducer.js","/modules/App/components/Navbar/Navbar.jsx","/modules/Recipe/pages/RecipeSearchPage/RecipeSearchPage.js","/util/queryBuilder.js","/modules/Recipe/components/RecipeSearchForm/RecipeSearchForm.js","/components/form/formInputs.js","/modules/Category/components/CategorySelect.js","/modules/Ingredient/components/IngredientSelect/IngredientSelect.js","/modules/Recipe/pages/RecipeListPage/RecipeListPage.js","/modules/Recipe/components/RecipeList.js","/modules/Recipe/components/RecipeListItem/RecipeListItem.js","/modules/Recipe/RecipeActions.js","/modules/Recipe/RecipeReducer.js","/modules/Recipe/pages/RecipeDetailPage/RecipeDetailPage.js","/components/InteractionButtons/InteractionButtons.js","/modules/Recipe/pages/RecipeCreationPage/RecipeCreationPage.js","/modules/Recipe/components/RecipeCreateForm/RecipeCreateForm.js","/modules/Recipe/components/RecipeEditor/RecipeEditor.js","/modules/Ingredient/components/IngredientAndAmountSelect/IngredientAndAmountSelect.js","/modules/Recipe/pages/RecipeCreatedPage/RecipeCreatedPage.js","/modules/Recipe/pages/RecipeDeletedPage/RecipeDeletedPage.js","/modules/Recipe/pages/RecipeEditPage/RecipeEditPage.js","/modules/Auth/pages/LoginPage/LoginPage.js","/modules/Auth/components/loginform/loginform.js","/modules/Auth/components/SocialSignInButtons/SocialSignInButtons.js","/modules/Auth/AuthReducer.js","/env.js","/modules/Auth/pages/LoginLandingPage/LoginLandingPage.jsx","/modules/Auth/AuthThunks.js","/modules/User/UserReducer.js","/modules/Auth/pages/SignupPage/SignupPage.js","/modules/User/pages/UserPage.js","/modules/User/components/UserRecipes.js","/modules/User/UserActions.js","/modules/Auth/pages/NotFoundPage/NotFoundPage.js","/store.js","/reducers.js"],"names":["store","window","__INITIAL_STATE__","document","getElementById","App","props","getState","auth","user","requireAuth","nextState","replace","cuid","pathname","state","nextPathname","location","context","isMounted","setState","children","mapStateToProps","Toolbar","Footer","categories","isBurgerVisible","dispatchToProps","setBurgerVisibility","create","StartPage","handleQuickSearch","fields","ingredient1","encodeURIComponent","ingredient2","push","category","toggleBurgerVisibility","test","Component","RecipeQuickSearch","handleSubmit","map","i","_id","name","form","initialValues","Menu","addCategories","fetchCategories","ADD_CATEGORIES","type","dispatch","then","res","get","API_URL","buildHeaders","localStorage","getItem","endpoint","headers","method","response","json","initialState","isBurgerMenuExpanded","ActionCreators","AppReducer","action","partialState","payload","getBurgerVisibility","app","ActionCreator","data","CategoryReducer","getCategories","Navbar","showBurger","onBurgerClick","RecipeSearchPage","handleSearch","ingredients","need","build","jsToStringQuery","formatQueryArray","queryToAffirmation","encodeCategory","c","encodeIngredient","baseUrl","title","length","undefined","titleQuery","categoriesQuery","join","ingredientsQuery","params","url","reduce","prev","current","index","split","query","constructor","Array","cat","ing","validate","errors","RecipeSearchForm","invalid","submitting","pristine","renderInput","input","label","icon","meta","touched","error","renderTextarea","placeholder","SubmitButton","text","disabled","SubmitButtonNoValidation","submit","CategorySelect","e","option","value","findIndex","v","target","checked","onChange","concat","copy","splice","options","isChecked","handleChange","ingredientsSelect","addChip","indexOf","chips","removeChip","slice","updateValue","evt","toLowerCase","handleKeyPress","key","chip","RecipeListPage","getAffirmation","recipes","RecipeList","affirmation","recipe","RecipeListItem","loves","low","slug","description","addRecipes","addRecipe","loveRecipe","unloveRecipe","favoriteRecipe","unfavoriteRecipe","deleteRecipe","fetchRecipes","fetchRecipe","searchRecipes","addRecipeRequest","updateRecipeRequest","loveRecipeRequest","unloveRecipeRequest","favoriteRecipeRequest","unfavoriteRecipeRequest","deleteRecipeRequest","ADD_RECIPE","ADD_RECIPES","LOVE_RECIPE","UNLOVE_RECIPE","FAVORITE_RECIPE","UNFAVORITE_RECIPE","DELETE_RECIPE","token","recipeCuid","actionType","cloneObj","JSON","parse","stringify","obj","interactWithRecipe","interaction","clone","find","interactions","r","removeRecipeFromList","RecipeReducer","getRecipes","getRecipe","filter","RecipeDetailsPage","createMarkup","__html","markup","love","unlove","favorite","unfavorite","delete","edit","isAuthor","author","imageUrl","amount","instructions","LoveButton","loveAction","unloveAction","FavButton","favoriteAction","unfavoriteAction","DeleteButton","deleteAction","EditButton","editAction","RecipeCreationPage","handleCreate","values","RecipeCreateForm","editMode","RichTextEditor","RichTextEditorDefault","RecipeEditor","toString","shouldRender","require","default","createValueFromString","createEmptyValue","toolbarConfig","display","INLINE_STYLE_BUTTONS","style","className","BLOCK_TYPE_DROPDOWN","BLOCK_TYPE_BUTTONS","renderField","renderIngredients","field","remove","RecipeCreatedPage","RecipeDeletedPage","RecipeEditPage","LoginPage","handleLogin","email","password","loginUserRequest","handleFacebookLogin","facebookLoginRequest","reload","FACEBOOK_APP_ID","FACEBOOK_REDIRECT_URL","message","formStyle","width","LoginForm","login","FacebookButton","GoogleButton","TwitterButton","tokenRequested","tokenRecieved","authenticated","fetching","AuthReducer","getMessage","requestToken","LoginLandingPage","componentDidMount","code","logOutUser","userRecieved","setItem","cookie","logout","UserReducer","getUser","SignupPage","UserPage","goToRecipe","signOut","goToAbout","id","username","fetchUser","addUser","NotFoundPage","configureStore","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","enhancers","routing"],"mappings":"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","file":"","sourcesContent":["import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport App from './App';\r\nimport { configureStore } from './store';\r\n\r\n// Initialize store\r\nconst store = configureStore(window.__INITIAL_STATE__);\r\n\r\nrender(<App store={store} />, document.getElementById('root'));\r\n","/**\r\n * Root Component\r\n */\r\nimport React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { Router, browserHistory } from 'react-router';\r\nimport { syncHistoryWithStore } from 'react-router-redux';\r\n\r\n// Import Routes\r\nimport routes from './routes';\r\n\r\n// Base stylesheet\r\nimport './styles/main.sass';\r\n\r\nexport default function App(props) {\r\n  return (\r\n    <Provider store={props.store}>\r\n      <Router history={syncHistoryWithStore(browserHistory, props.store)}>\r\n        {routes(props.store.getState().auth.user)}\r\n      </Router>\r\n    </Provider>\r\n  );\r\n}\r\n","/* eslint-disable global-require */\r\nimport React from 'react';\r\nimport { Route, IndexRoute } from 'react-router';\r\nimport App from './modules/App/App';\r\n\r\n// Pages\r\nimport startPage from './modules/App/pages/StartPage/StartPage';\r\nimport RecipeSearchPage from './modules/Recipe/pages/RecipeSearchPage/RecipeSearchPage';\r\nimport RecipeListPage from './modules/Recipe/pages/RecipeListPage/RecipeListPage';\r\nimport RecipeDetailPage from './modules/Recipe/pages/RecipeDetailPage/RecipeDetailPage';\r\nimport RecipeCreationPage from './modules/Recipe/pages/RecipeCreationPage/RecipeCreationPage';\r\nimport RecipeCreatedPage from './modules/Recipe/pages/RecipeCreatedPage/RecipeCreatedPage';\r\nimport RecipeDeletedPage from './modules/Recipe/pages/RecipeDeletedPage/RecipeDeletedPage';\r\nimport RecipeEditPage from './modules/Recipe/pages/RecipeEditPage/RecipeEditPage';\r\nimport LoginPage from './modules/Auth/pages/LoginPage/LoginPage';\r\nimport LoginLandingPage from './modules/Auth/pages/LoginLandingPage/LoginLandingPage';\r\nimport SignupPage from './modules/Auth/pages/SignupPage/SignupPage';\r\nimport UserPage from './modules/User/pages/UserPage';\r\nimport NotFoundPage from './modules/Auth/pages/NotFoundPage/NotFoundPage';\r\n\r\nconst requireAuth = (nextState, replace, user) => {\r\n  if (!user.cuid) {\r\n    replace({\r\n      pathname: '/login',\r\n      state: { nextPathname: nextState.location.pathname }\r\n    })\r\n  }\r\n}\r\n\r\nexport default user => (\r\n  <Route path=\"/\" component={App}>\r\n    <IndexRoute component={startPage} />\r\n    <Route path=\"/find\" component={RecipeSearchPage} />\r\n    <Route path=\"/search\" component={RecipeListPage} />\r\n    <Route path=\"/recipes/:slug-:cuid\" component={RecipeDetailPage} />\r\n    <Route path=\"/create\" component={RecipeCreationPage}\r\n      onEnter={(nextState, replace) => requireAuth(nextState, replace, user)}\r\n    />\r\n    <Route path=\"/created\" component={RecipeCreatedPage} />\r\n    <Route path=\"/recipes/deleted\" component={RecipeDeletedPage} />\r\n    <Route\r\n      path=\"/recipes/edit/:cuid\" component={RecipeEditPage}\r\n      onEnter={(nextState, replace) => requireAuth(nextState, replace, user)}\r\n    />\r\n    <Route path=\"/login\" component={LoginPage} />\r\n    <Route path=\"/facebook\" component={LoginLandingPage} />\r\n    <Route path=\"/signup\" component={SignupPage} />\r\n    <Route path=\"/user/:id\" component={UserPage} />\r\n    <Route path=\"*\" component={NotFoundPage} />\r\n  </Route>\r\n);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n// Import Components\r\nimport Toolbar from './components/Toolbar/Toolbar';\r\nimport Footer from './components/Footer/Footer';\r\n\r\nexport class App extends Component {\r\n  constructor(props, context) {\r\n    super(props);\r\n    this.state = { isMounted: false };\r\n    this.context = context;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ isMounted: true }); // eslint-disable-line\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/*!this.context.router.isActive('/', true) ? <Toolbar user={this.props.user} /> : null*/}\r\n        <div>\r\n          {this.props.children}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(store) {\r\n  return {\r\n    user: store.auth.user\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nconst Toolbar = ({ user }) => (\r\n  <div>\r\n    <Link to=\"/\">\r\n      <h1>salash</h1>\r\n    </Link>\r\n    <Link to=\"/\">\r\n      <i className=\"material-icons\">home</i>\r\n      <div>home</div>\r\n    </Link>\r\n    <Link to=\"/find\">\r\n      <i className=\"material-icons\">search</i>\r\n      <div>find</div>\r\n    </Link>\r\n    <Link to=\"/create\">\r\n      <i className=\"material-icons\">add</i>\r\n      <div>add</div>\r\n    </Link>\r\n    { !user || !user.cuid ? <Link to=\"/about\"><i className=\"material-icons\">info_outline</i><div>about</div></Link> : null }\r\n    { user && user.cuid ? <Link to={`/user/${user.cuid}`}> <i className=\"material-icons\">face</i> <div>you</div> </Link> : null }\r\n  </div>\r\n);\r\n\r\nexport default Toolbar;","import React from 'react';\r\n\r\nexport function Footer() {\r\n  return (\r\n    <div>\r\n      <p>Made by Daniel Bornstrand</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { browserHistory } from 'react-router';\r\nimport slug from 'limax';\r\nimport { Link } from 'react-router';\r\n\r\n// Import Components\r\nimport RecipeQuickSearch from '../../../Recipe/components/RecipeQuickSearch/RecipeQuickSearch';\r\nimport Menu from '../../components/Menu/Menu';\r\n\r\n// Import Actions\r\nimport { fetchCategories } from '../../../Category/CategoryActions';\r\nimport { ActionCreators } from '../../app-reducer';\r\n\r\n// Import Selectors\r\nimport { getCategories } from '../../../Category/CategoryReducer';\r\nimport { getBurgerVisibility } from '../../app-reducer';\r\n\r\nimport Navbar from '../../components/Navbar/Navbar';\r\n\r\nconst mapStateToProps = state => ({\r\n  categories: getCategories(state),\r\n  user: state.auth.user,\r\n  isBurgerVisible: getBurgerVisibility(state),\r\n});\r\n\r\nconst dispatchToProps = {\r\n  setBurgerVisibility: ActionCreators.setBurgerVisibility.create,\r\n};\r\n\r\nclass StartPage extends React.Component {\r\n  componentDidMount() {\r\n    //this.props.dispatch(fetchCategories());\r\n  }\r\n\r\n  handleQuickSearch = (fields) => {\r\n    const ingredient1 = slug(encodeURIComponent(fields.ingredient1.replace(/\\s/g, \"-\")));\r\n    const ingredient2 = slug(encodeURIComponent(fields.ingredient2.replace(/\\s/g, \"-\")));\r\n    browserHistory.push(`/search?categories=${fields.category}&ingredients=${ingredient1},${ingredient2}`);\r\n  };\r\n\r\n  toggleBurgerVisibility = () => {\r\n    const test = ActionCreators;\r\n    this.props.setBurgerVisibility(!this.props.isBurgerVisible);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"\">\r\n        {/*<div className={styles.menu}>\r\n          <Menu user={this.props.user} />\r\n        </div>'*/}\r\n        <section className=\"hero is-fullheight\">\r\n          <div className=\"hero-head\">\r\n            <Navbar onBurgerClick={this.toggleBurgerVisibility} showBurger={this.props.isBurgerVisible} />\r\n          </div>\r\n          <div className=\"hero-body\">\r\n            <div className=\"container tc\">\r\n              <h1 className=\"title is-1\">Salash</h1>\r\n              <h2 className=\"subtitle is-4\">vegan recipe hub</h2>\r\n              <h3>save, share and discover new food</h3>\r\n            </div>\r\n          </div>\r\n          <div className=\"hero-foot\">\r\n            <div className=\"container flex flex-column items-center\">\r\n              <span>lets go</span>\r\n              <span className=\"icon is-large\">\r\n                <i className=\"fa fa-3x fa-chevron-down\"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <div>\r\n          <RecipeQuickSearch handleQuickSearch={this.handleQuickSearch} categories={this.props.categories} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, dispatchToProps)(StartPage);\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\n// Import Style\r\n\r\nlet RecipeQuickSearch = props => (\r\n  <form onSubmit={props.handleSubmit(props.handleQuickSearch)}>\r\n    <div>\r\n      show me\r\n        <Field name=\"category\" component=\"select\">\r\n        {props.categories.map((category, i) => {\r\n          return <option key={i} value={category._id}>{`${category.name}s`}</option>;\r\n        })}\r\n      </Field>\r\n    </div>\r\n    <div>\r\n      with\r\n        <Field name=\"ingredient1\" component=\"input\" type=\"text\" />\r\n    </div>\r\n    <div>\r\n      and\r\n        <Field name=\"ingredient2\" component=\"input\" type=\"text\" />\r\n    </div>\r\n    <div>\r\n      <div onClick={props.handleSubmit(props.handleQuickSearch)}>\r\n        go\r\n      </div>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nRecipeQuickSearch = reduxForm({\r\n  form: 'quickSearchForm',\r\n  initialValues: {\r\n    category: 'smoothie',\r\n    ingredient1: 'tomato',\r\n    ingredient2: 'banana'\r\n  }\r\n})(RecipeQuickSearch);\r\n\r\nexport default RecipeQuickSearch;\r\n","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nconst Menu = ({ user }) => (\r\n  <div>\r\n    <Link to=\"/find\">\r\n      <i className=\"material-icons\">search</i>\r\n      <div>find</div>\r\n    </Link>\r\n    <Link to=\"/create\">\r\n      <i className=\"material-icons\">add</i>\r\n      <div>add</div>\r\n    </Link>\r\n    { !user || !user.cuid ? <Link to=\"/about\"><i className=\"material-icons\">info_outline</i><div>about</div></Link> : null }\r\n    { user && user.cuid ? <Link to={`/user/${user.cuid}`}> <i className=\"material-icons\">face</i> <div>you</div> </Link> : null }\r\n  </div>\r\n);\r\n\r\nexport default Menu;","import callApi from '../../util/api';\r\n\r\n// Export Constants\r\nexport const ADD_CATEGORIES = 'ADD_CATEGORIES';\r\n\r\n// Export Actions\r\nexport function addCategories(categories) {\r\n  return {\r\n    type: ADD_CATEGORIES,\r\n    categories,\r\n  };\r\n}\r\n\r\nexport function fetchCategories() {\r\n  return (dispatch) => {\r\n    return callApi('categories').then(res => {\r\n      dispatch(addCategories(res.categories));\r\n    });\r\n  };\r\n}","import fetch from 'isomorphic-fetch';\r\n\r\nexport const API_URL = `/api`;\r\n\r\nconst buildHeaders = () => ({\r\n  'content-type': 'application/json',\r\n  'authorization': localStorage.getItem(\"token\"),\r\n});\r\n\r\nexport function get(endpoint) {\r\n  return fetch(`${API_URL}/${endpoint}`, {\r\n    headers: buildHeaders(),\r\n    method: 'GET',\r\n  }).then(response => response.json());\r\n}\r\n\r\nexport default {\r\n  get,\r\n};\r\n","import ActionCreator from '../../util/action-creator';\r\n\r\nconst initialState = {\r\n  isBurgerMenuExpanded: false,\r\n};\r\n\r\nexport const ActionCreators = {\r\n  setBurgerVisibility: new ActionCreator('SET_BURGER_VISIBILITY'),\r\n};\r\n\r\nconst AppReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ActionCreators.setBurgerVisibility.type:\r\n      const partialState = { isBurgerMenuExpanded: action.payload };\r\n      return { ...state, ...partialState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n/* Selectors */\r\nexport const getBurgerVisibility = state => state.app.isBurgerMenuExpanded;\r\n\r\n// Export Reducer\r\nexport default AppReducer;\r\n","export default class ActionCreator {\r\n  constructor(type) {\r\n    this. type = type;\r\n  }\r\n\r\n  create = (payload) => {\r\n    return { type: this.type, payload };\r\n  }\r\n}\r\n","// Import Actions\r\nimport { ADD_CATEGORIES } from './CategoryActions';\r\n\r\n// Initial State\r\nconst initialState = { data: [] };\r\n\r\nconst CategoryReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_CATEGORIES :\r\n      return {\r\n        data: action.categories\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default CategoryReducer;\r\n\r\n\r\nexport const getCategories = state => state.categories.data;","import React from 'react';\r\n\r\nclass Navbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <nav className=\"navbar\">\r\n        <div className=\"container\">\r\n          <div className=\"navbar-brand\">\r\n            <a className=\"navbar-item\">\r\n              <img src=\"https://bulma.io/images/bulma-type-white.png\" alt=\"Logo\" />\r\n            </a>\r\n            <span className={`navbar-burger burger ${this.props.showBurger ? 'is-active' : ''}`} onClick={() => this.props.onBurgerClick}>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div id=\"navbarMenuHeroA\" className={`navbar-menu ${this.props.showBurger ? 'is-active' : ''}`}>\r\n          <div className=\"navbar-end\">\r\n            <a className=\"navbar-item is-active\">Find</a>\r\n            <a className=\"navbar-item\">Share</a>\r\n            <a className=\"navbar-item\">Discover</a>\r\n            <span className=\"navbar-item\">\r\n              <a className=\"button is-primary is-inverted\">\r\n                <span className=\"icon\">\r\n                  <i className=\"fa fa-github\"></i>\r\n                </span>\r\n                <span>Login</span>\r\n              </a>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { browserHistory } from 'react-router';\r\nimport slug from 'limax';\r\nimport { Link } from 'react-router';\r\nimport { build } from '../../../../util/queryBuilder';\r\n\r\n// Import Components\r\nimport RecipeSearchForm from '../../components/RecipeSearchForm/RecipeSearchForm';\r\n\r\n// Import Actions\r\nimport { fetchCategories } from '../../../Category/CategoryActions';\r\n\r\n// Import Selectors\r\nimport { getCategories } from '../../../Category/CategoryReducer';\r\n\r\nclass RecipeSearchPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.dispatch(fetchCategories());\r\n  }\r\n\r\n  handleSearch = (fields) => {\r\n    browserHistory.push(build('search', fields));\r\n  };\r\n\r\n  handleQuickSearch = (fields) => {\r\n    const ingredient1 = slug(encodeURIComponent(fields.ingredient1.replace(/\\s/g, \"-\")));\r\n    const ingredient2 = slug(encodeURIComponent(fields.ingredient2.replace(/\\s/g, \"-\")));\r\n    browserHistory.push(`/search?category=${fields.category}&ingredient=${ingredient1}&ingredient=${ingredient2}`);\r\n  };\r\n\r\n  initialValues = {\r\n    categories: [],\r\n    ingredients: []\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>find recipes</h1>\r\n        <RecipeSearchForm initialValues={this.initialValues} categories={this.props.categories} handleSearch={this.handleSearch}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Actions required to provide data for this component to render in sever side.\r\nRecipeSearchPage.need = [() => { return fetchCategories(); }];\r\n\r\n//Retrieve data from store as props\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    categories: getCategories(state),\r\n  };\r\n}\r\nexport default connect(mapStateToProps)(RecipeSearchPage);\r\n","export const encodeCategory = c => encodeURIComponent(c.replace(/\\s/g, \"-\"));\r\nexport const encodeIngredient = c => encodeURIComponent(c.replace(/\\s/g, \"-\"));\r\n\r\nexport function build(baseUrl, fields) {\r\n\r\n  let { title, ingredients, categories } = fields;\r\n  categories = categories && categories.length ? categories.map(encodeCategory) : undefined;\r\n  ingredients = ingredients && ingredients.length ? ingredients.map(encodeIngredient) : undefined;\r\n\r\n  const titleQuery = title ? `title=${title}` : undefined;\r\n  const categoriesQuery = categories && categories.length ? `categories=${categories.join(',')}` : undefined;\r\n  const ingredientsQuery = ingredients && ingredients.length ? `ingredients=${ingredients.join(',')}`: undefined;\r\n  //const categories = category.map( val => `category=${val}`);\r\n  //const ingredients = ingredient.map( val => `ingredient=${val}`);\r\n\r\n\r\n\r\n  const params = [ titleQuery, categoriesQuery, ingredientsQuery ];\r\n\r\n  let url = params.reduce(( prev, current, index ) => {\r\n    if(!current) {\r\n      return prev;\r\n    }\r\n    return prev === baseUrl ? `${prev}?${current}` : `${prev}&${current}`;\r\n  },  baseUrl);\r\n\r\n  return url;\r\n}\r\n\r\nexport function jsToStringQuery(baseUrl, fields) {\r\n\r\n  fields.ingredients = fields.ingredients ? fields.ingredients.split(',') : undefined;\r\n  fields.categories = fields.categories ? fields.categories.split(',') : undefined;\r\n\r\n  return build(baseUrl, fields)\r\n}\r\n\r\nexport function formatQueryArray(fields) {\r\n\r\n  fields.ingredients = fields.ingredients ? fields.ingredients.split(',') : [];\r\n  fields.categories = fields.categories ? fields.categories.split(',') : [];\r\n\r\n  return fields;\r\n}\r\n\r\n\r\nexport function queryToAffirmation(query) {\r\n  if(!query.title && !query.ingredients && !query.categories) {\r\n    return 'showing all recipes'\r\n  }\r\n  query.ingredients = query.ingredients.constructor === Array ? query.ingredients.join(',') : query.ingredients;\r\n  query.categories = query.categories.constructor === Array ? query.categories.join(',') : query.categories;\r\n\r\n  const cat = query.categories ? query.categories.split(',').map(c => ` ${c}s`).join(',') : 'recipes';\r\n  const ing = query.ingredients ? `containing ${query.ingredients}` : '';\r\n  const title = query.title ? `with title \\'${query.title}\\'` : '';\r\n  return `showing ${cat} ${ing} ${title}`;\r\n}\r\n\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { renderTextarea, renderInput, SubmitButtonNoValidation } from '../../../../components/form/formInputs';\r\nimport CategorySelect from '../../../Category/components/CategorySelect';\r\nimport IngredientSelect from '../../../Ingredient/components/IngredientSelect/IngredientSelect';\r\n\r\n\r\nconst validate = values => {\r\n  const errors = {};\r\n}\r\n\r\nlet RecipeSearchForm = ({ handleSubmit, handleSearch, categories, invalid, submitting, pristine }) => (\r\n  <form>\r\n    <div>\r\n      <Field name=\"title\" icon=\"fa-pencil-square-o\" component={renderInput} type=\"text\" label=\"Title\" />\r\n    </div>\r\n\r\n    <div>\r\n      <h2>categories</h2>\r\n      <Field name='categories' options={categories.map(c => c.name)} component={CategorySelect} />\r\n    </div>\r\n\r\n    <div>\r\n      <h2>ingredients</h2>\r\n      <Field name=\"ingredients\" component={IngredientSelect} />\r\n    </div>\r\n\r\n    <div>\r\n      <SubmitButtonNoValidation submit={handleSubmit(handleSearch)} text='find recipes' />\r\n    </div>\r\n\r\n  </form>\r\n);\r\n\r\nRecipeSearchForm = reduxForm({\r\n  form: 'RecipeSearchForm'\r\n})(RecipeSearchForm);\r\n\r\n\r\n\r\nexport default RecipeSearchForm;","import React, { Component } from 'react';\r\n\r\nexport const renderInput = ({ input, label, icon, type, meta: { touched, error } }) => (\r\n  <div>\r\n    {label ?\r\n      <div>\r\n        <h2>{label}</h2> {touched && error && <span>{error}</span>}\r\n      </div> : null\r\n    }\r\n    <div>\r\n      {/*icon ? <i className={`fa ${icon}`}></i> : null*/}\r\n      <input {...input} type={type} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const renderTextarea = ({ input, label, placeholder, type, meta: { touched, error } }) => (\r\n  <div>\r\n    {label ?\r\n      <div>\r\n        <h2>{label}</h2> {touched && error && <span>{error}</span>}\r\n      </div> : null\r\n    }\r\n    <textarea {...input} type={type} placeholder={placeholder} />\r\n  </div>\r\n);\r\n\r\nexport const SubmitButton = ({ text, disabled: {invalid, submitting, pristine } }) => (\r\n  <button disabled={invalid || submitting || pristine} type=\"submit\">{text}</button>\r\n);\r\n\r\nexport const SubmitButtonNoValidation = ({ text, submit }) => (\r\n  <button onClick={submit} type=\"button\">{text}</button>\r\n);","import React from 'react';\r\n\r\nclass CategorySelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  handleChange(e, option) {\r\n    const input = this.props.input;\r\n    const index = input.value.findIndex(v => v === option);\r\n\r\n    if (e.target.checked && index < 0) {\r\n      input.onChange(input.value.concat([e.target.value]));\r\n    } else {\r\n      const copy = [...input.value];\r\n      copy.splice(index, 1);\r\n      input.onChange(copy);\r\n    }\r\n  }\r\n\r\n  isChecked(option){\r\n    return ~this.props.input.value.findIndex(v => v === option);\r\n  }\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n    return (\r\n      <div>\r\n        {this.props.options.map((option, i) => (\r\n          <div key={i}>\r\n            <input\r\n              type=\"checkbox\"\r\n              value={option}\r\n              checked={this.isChecked(option)}\r\n              onChange={e => this.handleChange(e, option)} />\r\n            <span>{option}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default CategorySelect;","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nclass ingredientsSelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      //chips: [],      \r\n      value: ''\r\n    }\r\n  }\r\n\r\n  addChip = () => {\r\n    if (!this.state.value || ~this.props.input.value.indexOf(this.state.value)) {\r\n      this.setState({ value: '' });\r\n      return;\r\n    }\r\n    const chips = [...this.props.input.value, this.state.value];\r\n    this.props.input.onChange(chips);\r\n    this.setState({ value: '' });\r\n  }\r\n\r\n  removeChip = (i) => {\r\n    const chips = [\r\n      ...this.props.input.value.slice(0, i),\r\n      ...this.props.input.value.slice(i + 1)\r\n    ];\r\n    this.props.input.onChange(chips);\r\n  }\r\n\r\n  updateValue = evt => {\r\n    this.setState({\r\n      value: evt.target.value.toLowerCase().replace(/[^a-z\\s]/g,'')\r\n    });\r\n  }\r\n\r\n  handleKeyPress = evt => {\r\n    if(evt.key === 'Enter') {\r\n      this.addChip();\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          {\r\n            this.props.input.value.map((chip, i) => (\r\n              <div key={i}>\r\n                <span>{chip}</span>\r\n                <i onClick={() => this.removeChip(i)} className=\"material-icons\">clear</i>\r\n              </div>\r\n            ))\r\n          }\r\n        </div>\r\n        <div>\r\n          <input value={this.state.value} onKeyPress={this.handleKeyPress} onChange={this.updateValue} type=\"text\" />\r\n          <button type=\"button\" onClick={this.addChip}><i className=\"material-icons\">add</i></button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default ingredientsSelect;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n// Import Components\r\nimport RecipeList from '../../components/RecipeList';\r\n\r\n// Import Actions\r\nimport { searchRecipes } from '../../RecipeActions';\r\n\r\n// Import Selectors\r\nimport { getRecipes } from '../../RecipeReducer';\r\n\r\nimport { jsToStringQuery, queryToAffirmation } from '../../../../util/queryBuilder';\r\n\r\nclass RecipeListPage extends React.Component {\r\n  componentDidMount() {\r\n    const url = jsToStringQuery('recipes/search', this.props.location.query);\r\n    this.props.dispatch(searchRecipes(url));\r\n  }\r\n\r\n  getAffirmation = () => {\r\n    return queryToAffirmation(this.props.location.query);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      {\r\n        this.props.recipes ? (<RecipeList affirmation={this.getAffirmation()} recipes={this.props.recipes} />) : null\r\n      }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Actions required to provide data for this component to render in sever side.\r\nRecipeListPage.need = [({ query }) => {\r\n  return searchRecipes(query);\r\n}];\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    recipes: getRecipes(state),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(RecipeListPage);\r\n","import React from 'react';\r\n\r\n// Import Components\r\nimport RecipeListItem from './RecipeListItem/RecipeListItem';\r\n\r\nfunction RecipeList(props) {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div>\r\n          {props.affirmation}\r\n        </div>\r\n        {/*<div>\r\n          <span>most loved</span>\r\n          <a>all time</a>\r\n          <a>this month</a>\r\n          <a>this week</a>\r\n        </div>*/}\r\n      </div>\r\n      {props.recipes.map((recipe, index) => (<RecipeListItem recipe={recipe} key={index} />))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecipeList;\r\n","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nfunction RecipeListItem({ recipe  }) {\r\n  return (\r\n    <div>\r\n      {/*<div>\r\n        <img src={recipe.imageUrl ? recipe.imageUrl : ''} />\r\n      </div>*/}\r\n      <div>\r\n        <i className=\"material-icons\">favorite</i>\r\n        <span>{recipe.loves.low}</span>\r\n      </div>\r\n      <div>\r\n        <h3>\r\n          <Link to={`/recipes/${recipe.slug}-${recipe.cuid}`} >\r\n            {recipe.title}\r\n          </Link>\r\n        </h3>\r\n        <div>\r\n          <span>Categories:</span>\r\n          {recipe.categories.map((cat, i) => (\r\n            <span key={i}>{cat.name}</span>\r\n          ))}\r\n        </div>\r\n        <div>\r\n          <span>Ingredients:</span>\r\n          {recipe.ingredients.map((ing, i) => (\r\n            <span key={i}>{ing.name}</span>\r\n          ))}\r\n        </div>\r\n        <p>{recipe.description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecipeListItem;\r\n","import callApi from '../../util/api';\r\nimport { browserHistory } from 'react-router';\r\n\r\n// Export Constants\r\nexport const ADD_RECIPE = 'ADD_RECIPE';\r\nexport const ADD_RECIPES = 'ADD_RECIPES';\r\nexport const LOVE_RECIPE = 'LOVE_RECIPE';\r\nexport const UNLOVE_RECIPE = 'UNLOVE_RECIPE';\r\nexport const FAVORITE_RECIPE = 'FAVORITE_RECIPE';\r\nexport const UNFAVORITE_RECIPE = 'UNFAVORITE_RECIPE';\r\nexport const DELETE_RECIPE = 'DELETE_RECIPE';\r\n\r\n\r\n// Export Actions\r\nexport function addRecipes(recipes) {\r\n  return {\r\n    type: ADD_RECIPES,\r\n    recipes,\r\n  };\r\n}\r\n\r\nexport function addRecipe(recipe) {\r\n  return {\r\n    type: ADD_RECIPE,\r\n    recipe,\r\n  };\r\n}\r\n\r\nexport function loveRecipe(recipe) {\r\n  return {\r\n    type: LOVE_RECIPE,\r\n    recipe\r\n  };\r\n}\r\n\r\nexport function unloveRecipe(recipe) {\r\n  return {\r\n    type: UNLOVE_RECIPE,\r\n    recipe\r\n  };\r\n}\r\n\r\nexport function favoriteRecipe(recipe) {\r\n  return {\r\n    type: FAVORITE_RECIPE,\r\n    recipe\r\n  };\r\n}\r\n\r\nexport function unfavoriteRecipe(recipe) {\r\n  return {\r\n    type: UNFAVORITE_RECIPE,\r\n    recipe\r\n  };\r\n}\r\n\r\nexport function deleteRecipe(cuid) {\r\n  return {\r\n    type: DELETE_RECIPE,\r\n    cuid\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\nexport function fetchRecipes() {\r\n  return (dispatch) => {\r\n    return callApi('recipes').then(res => {\r\n      dispatch(addRecipes(res.recipes));\r\n    });\r\n  };\r\n}\r\n\r\nexport function fetchRecipe(cuid, token) {\r\n  return (dispatch) => {\r\n    return callApi(`recipes/${cuid}`, 'get', undefined, token).then(res => dispatch(addRecipe(res.recipe)));\r\n  };\r\n}\r\n\r\nexport function searchRecipes(url) {\r\n  return (dispatch) => {\r\n    return callApi(url).then(res => {\r\n      dispatch(addRecipes(res.recipes));\r\n    });\r\n  };\r\n}\r\n\r\nexport function addRecipeRequest(recipe) {\r\n  return (dispatch) => {\r\n    return callApi('recipes', 'post', { recipe }).then(res => {\r\n      browserHistory.push('/created');\r\n    });\r\n  };\r\n}\r\n\r\nexport function updateRecipeRequest(cuid, recipe) {\r\n  return (dispatch) => {\r\n    return callApi('recipes', 'put', { cuid, recipe }).then(res => {\r\n      browserHistory.push('/created');\r\n    });\r\n  };\r\n}\r\n\r\nexport function loveRecipeRequest(recipe) {\r\n  return dispatch => {\r\n    return callApi('interactions', 'post', { recipeCuid: recipe.cuid, actionType: 'love' }).then(res => {\r\n      dispatch(loveRecipe(recipe));\r\n    });\r\n  };\r\n}\r\n\r\nexport function unloveRecipeRequest(recipe) {\r\n  return dispatch => {\r\n    return callApi('interactions', 'delete', { recipeCuid: recipe.cuid, actionType: 'love' }).then(res => {\r\n      dispatch(unloveRecipe(recipe));\r\n    });\r\n  };\r\n}\r\n\r\nexport function favoriteRecipeRequest(recipe) {\r\n  return dispatch => {\r\n    return callApi('interactions', 'post', { recipeCuid: recipe.cuid, actionType: 'favorite' }).then(res => {\r\n      dispatch(favoriteRecipe(recipe));\r\n    });\r\n  };\r\n}\r\n\r\nexport function unfavoriteRecipeRequest(recipe) {\r\n  return dispatch => {\r\n    return callApi('interactions', 'delete', { recipeCuid: recipe.cuid, actionType: 'favorite' }).then(res => {\r\n      dispatch(unfavoriteRecipe(recipe));\r\n    });\r\n  };\r\n}\r\n\r\nexport function deleteRecipeRequest(recipe) {\r\n  return dispatch => {\r\n    return callApi('recipes', 'delete', { cuid: recipe.cuid }).then(res => {\r\n      dispatch(deleteRecipe(recipe.cuid));\r\n    });\r\n  };\r\n}\r\n\r\n\r\n","// Import Actions\r\nimport {\r\n  ADD_RECIPES,\r\n  ADD_RECIPE,\r\n  LOVE_RECIPE,\r\n  UNLOVE_RECIPE,\r\n  FAVORITE_RECIPE,\r\n  UNFAVORITE_RECIPE,\r\n  DELETE_RECIPE\r\n} from './RecipeActions';\r\n\r\n// Initial State\r\nconst initialState = { data: [] };\r\n\r\nconst cloneObj = obj => JSON.parse(JSON.stringify(obj));\r\n\r\nconst interactWithRecipe = (recipes, recipe, interaction, value) => {\r\n  const clone = cloneObj(recipes.find(e => e.cuid == recipe.cuid));\r\n  clone.interactions[interaction] = value;\r\n  return [...recipes].map(r => r.cuid == recipe.cuid ? clone : r);\r\n};\r\n\r\nconst removeRecipeFromList = (recipes, cuid) => {\r\n  const index = recipes.findIndex(r => r.cuid === cuid);\r\n  return [\r\n    ...recipes.slice(0, index),\r\n    ...recipes.slice(index + 1)\r\n  ];\r\n}\r\n\r\nconst RecipeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case ADD_RECIPE:\r\n      return {\r\n        data: [action.recipe, ...state.data]\r\n      };\r\n\r\n    case ADD_RECIPES:\r\n      return {\r\n        data: action.recipes\r\n      };\r\n\r\n    case LOVE_RECIPE:\r\n      return {\r\n        data: interactWithRecipe(state.data, action.recipe, 'love', true)\r\n      };\r\n\r\n    case UNLOVE_RECIPE:\r\n      return {\r\n        data: interactWithRecipe(state.data, action.recipe, 'love', null)\r\n      };\r\n\r\n    case FAVORITE_RECIPE:\r\n      return {\r\n        data: interactWithRecipe(state.data, action.recipe, 'favorite', true)\r\n      };\r\n\r\n    case UNFAVORITE_RECIPE:\r\n      return {\r\n        data: interactWithRecipe(state.data, action.recipe, 'favorite', null)\r\n      };\r\n\r\n    case DELETE_RECIPE:\r\n      return {\r\n        data: removeRecipeFromList(state.data, action.cuid)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getRecipes = state => state.recipes.data;\r\n\r\nexport const getRecipe = (state, cuid) => {\r\n  return state.recipes.data.filter(recipe => recipe ? recipe.cuid === cuid : false)[0]\r\n};\r\n\r\nexport default RecipeReducer;\r\n","import React  from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { browserHistory } from 'react-router';\r\n\r\n// Import Components\r\nimport { LoveButton, FavButton, DeleteButton, EditButton } from '../../../../components/InteractionButtons/InteractionButtons'\r\n\r\n// Import Actions\r\nimport {\r\n  fetchRecipe,\r\n  loveRecipeRequest,\r\n  unloveRecipeRequest,\r\n  favoriteRecipeRequest,\r\n  unfavoriteRecipeRequest,\r\n  deleteRecipeRequest\r\n} from '../../RecipeActions';\r\n\r\n// Import Selectors\r\nimport { getRecipe } from '../../RecipeReducer';\r\n\r\nclass RecipeDetailsPage extends React.Component {\r\n\r\n  createMarkup = markup => ({ __html: markup });\r\n\r\n  love = () => {\r\n    this.props.dispatch(loveRecipeRequest(this.props.recipe));\r\n  }\r\n\r\n  unlove = () => {\r\n    this.props.dispatch(unloveRecipeRequest(this.props.recipe));\r\n  }\r\n\r\n  favorite = () => {\r\n    this.props.dispatch(favoriteRecipeRequest(this.props.recipe));\r\n  }\r\n\r\n  unfavorite = () => {\r\n    this.props.dispatch(unfavoriteRecipeRequest(this.props.recipe));\r\n  }\r\n\r\n  delete = () => {\r\n    browserHistory.push('/recipes/deleted');\r\n    this.props.dispatch(deleteRecipeRequest(this.props.recipe));\r\n  }\r\n\r\n  edit = () => {\r\n    browserHistory.push(`/recipes/edit/${this.props.recipe.cuid}`);\r\n  }\r\n\r\n  render() {\r\n    const isAuthor = (this.props.recipe) ? this.props.recipe.author.cuid === this.props.user.cuid : undefined;\r\n    return (\r\n      <div>\r\n        {\r\n          !this.props.recipe ? <div>\r\n            <h1> Recipe not found</h1>\r\n          </div> : null\r\n        }\r\n        {\r\n        this.props.recipe ?\r\n        <div>\r\n          {\r\n            this.props.recipe.imageUrl ? <div><img src={this.props.recipe.imageUrl} /></div> : null\r\n          }\r\n          <h1>{this.props.recipe.title}</h1>\r\n          <div>\r\n            {this.props.recipe.categories.map((cat, i) => (\r\n              <span key={i}>{cat.name}</span>\r\n            ))}\r\n          </div>\r\n\r\n          <p>{this.props.recipe.description}</p>\r\n\r\n          <div>\r\n            <h3>Ingredients</h3>\r\n            <table>\r\n              <tbody>\r\n                {this.props.recipe.ingredients.map((ing, i) => (\r\n                  <tr key={i}>\r\n                    <td>{ing.name}</td>\r\n                    <td>{ing.amount}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <h3>Instructions</h3>\r\n          <div dangerouslySetInnerHTML={this.createMarkup(this.props.recipe.instructions)} />\r\n          <div>\r\n            <LoveButton loveAction={this.love} unloveAction={this.unlove} interactions={this.props.recipe.interactions} />\r\n            <FavButton favoriteAction={this.favorite} unfavoriteAction={this.unfavorite} interactions={this.props.recipe.interactions} />\r\n          </div>\r\n          {isAuthor ? (\r\n            <div>\r\n              <DeleteButton deleteAction={this.delete} />\r\n              <EditButton editAction={this.edit} />\r\n            </div>\r\n          ) : null\r\n          }\r\n        </div> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Actions required to provide data for this component to render in sever side.\r\nRecipeDetailsPage.need = [({ params, state }) => {\r\n  return fetchRecipe(params.cuid, state.auth.token);\r\n}];\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state, props) {\r\n  return {\r\n    recipe: getRecipe(state, props.params.cuid),\r\n    user: state.auth.user\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(RecipeDetailsPage);\r\n","import React, { Component } from 'react';\r\n\r\nexport const LoveButton = ({ loveAction, unloveAction, interactions }) => (\r\n  <div\r\n    onClick={() => { interactions.love ? unloveAction() : loveAction() }}>\r\n    {interactions.love}\r\n    <i className=\"material-icons\">{interactions.love ? 'favorite' : 'favorite_outline'}</i>\r\n    <span>love</span>\r\n  </div>\r\n);\r\n\r\nexport const FavButton = ({ favoriteAction, unfavoriteAction, interactions }) => (\r\n  <div\r\n    onClick={() => { interactions.favorite ? unfavoriteAction() : favoriteAction() }}>\r\n    <i className=\"material-icons\">{interactions.favorite ? 'star' : 'star_outline'}</i>\r\n    <span>favorite</span>\r\n  </div>\r\n);\r\n\r\nexport const DeleteButton = ({ deleteAction }) => (\r\n  <div\r\n    onClick={() => deleteAction()}\r\n  >\r\n    <i className=\"material-icons\">delete_forever</i>\r\n    <span>delete</span>\r\n  </div>\r\n);\r\n\r\nexport const EditButton = ({ editAction }) => (\r\n  <div\r\n    onClick={() => editAction()}\r\n  >\r\n    <i className=\"material-icons\">edit</i>\r\n    <span>edit</span>\r\n  </div>\r\n);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addRecipeRequest } from '../../RecipeActions';\r\nimport callApi from '../../../../util/api';\r\n\r\nimport RecipeCreateForm from '../../components/RecipeCreateForm/RecipeCreateForm'; \r\n\r\n// Import Actions\r\nimport { fetchCategories } from '../../../Category/CategoryActions';\r\n\r\n// Import Selectors\r\nimport { getCategories } from '../../../Category/CategoryReducer';\r\n\r\nexport class RecipeCreationPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.dispatch(fetchCategories());\r\n  }\r\n\r\n  handleCreate = (fields) => {\r\n    this.props.dispatch(addRecipeRequest(fields));\r\n  };\r\n\r\n  initialValues = {\r\n    categories: [],\r\n    ingredients: [\r\n      { amount: '', name: '' }\r\n    ]\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>add recipe</h1>\r\n        <RecipeCreateForm initialValues={this.initialValues} handleCreate={this.handleCreate} categories={this.props.categories}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Actions required to provide data for this component to render in sever side.\r\nRecipeCreationPage.need = [() => { return fetchCategories(); }];\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    categories: getCategories(state),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(RecipeCreationPage);\r\n","import React from 'react';\r\nimport { Field, Fields, FieldArray, reduxForm } from 'redux-form';\r\nimport RecipeEditor from '../RecipeEditor/RecipeEditor';\r\nimport CategorySelect from '../../../Category/components/CategorySelect';\r\nimport { renderTextarea, renderInput, SubmitButton } from '../../../../components/form/formInputs';\r\nimport IngredientAndAmountSelect from '../../../Ingredient/components/IngredientAndAmountSelect/IngredientAndAmountSelect';\r\n\r\nconst validate = values => {\r\n  const errors = {};\r\n  if (!values.title) {\r\n    errors.title = 'required';\r\n  }\r\n  if (!values.categories.length) {\r\n    errors.categories = 'at least one category required';\r\n  }\r\n  if (!values.ingredients.length) {\r\n    errors.categories = 'at least one ingredient required';\r\n  }\r\n  return errors;\r\n}\r\n\r\nlet RecipeCreateForm = ({ editMode,handleSubmit, handleCreate, categories, invalid, submitting, pristine }) => (\r\n  <form onSubmit={handleSubmit(handleCreate)}>\r\n\r\n    <Field name=\"title\" icon=\"fa-pencil-square-o\" component={renderInput} type=\"text\" label=\"Title\" />\r\n\r\n    <Field name=\"description\" component={renderTextarea} placeholder=\"write a short description of the recipe\" label=\"Description\" />\r\n    \r\n    <div>\r\n      <Field name='categories' options={categories.map(c => c.name)} component={CategorySelect} />\r\n    </div>\r\n\r\n    <FieldArray name=\"ingredients\" component={IngredientAndAmountSelect} />\r\n\r\n    <div>\r\n      <label>Instructions</label>\r\n      <Field name=\"instructions\" type=\"text\" component={RecipeEditor} />\r\n    </div>\r\n\r\n    <SubmitButton text={editMode ? 'save changes' : 'add recipe'} disabled={{ invalid, submitting, pristine }} />\r\n  </form>\r\n);\r\n\r\nRecipeCreateForm = reduxForm({\r\n  form: 'RecipeCreateForm',\r\n  validate\r\n})(RecipeCreateForm);\r\n\r\n\r\n\r\nexport default RecipeCreateForm;","import React from 'react';\r\nlet RichTextEditor, RichTextEditorDefault;\r\n\r\nexport default class RecipeEditor extends React.Component {\r\n\r\n  constructor () {\r\n    super()\r\n    this.state = {\r\n      shouldRender: false,\r\n      value: {}\r\n    }\r\n  }\r\n\r\n  /*state = {\r\n    value: RichTextEditor.createEmptyValue(),\r\n    shouldRender: false\r\n  }*/\r\n\r\n  componentDidMount () {\r\n    RichTextEditor = require('react-rte');\r\n    RichTextEditorDefault = RichTextEditor.default;\r\n    this.state.value = this.props.input.value ? RichTextEditor.createValueFromString(this.props.input.value, 'html') : RichTextEditor.createEmptyValue();    \r\n    this.setState({shouldRender: true})\r\n  }\r\n\r\n  onChange = (value) => {\r\n    this.setState({ value });\r\n    if (this.props.input.onChange) {\r\n      // Send the changes up to the parent component as an HTML string.\r\n      // This is here to demonstrate using `.toString()` but in a real app it\r\n      // would be better to avoid generating a string on each change.\r\n      this.props.input.onChange(\r\n        value.toString('html')\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const toolbarConfig = {\r\n      // Optionally specify the groups to display (displayed in the order listed).\r\n      display: ['INLINE_STYLE_BUTTONS', 'BLOCK_TYPE_BUTTONS', 'LINK_BUTTONS', 'BLOCK_TYPE_DROPDOWN', 'HISTORY_BUTTONS'],\r\n      INLINE_STYLE_BUTTONS: [\r\n        { label: 'Bold', style: 'BOLD', className: 'custom-css-class' },\r\n        { label: 'Italic', style: 'ITALIC' },\r\n        { label: 'Underline', style: 'UNDERLINE' }\r\n      ],\r\n      BLOCK_TYPE_DROPDOWN: [\r\n        { label: 'Normal', style: 'unstyled' },\r\n        { label: 'Heading Large', style: 'header-one' },\r\n        { label: 'Heading Medium', style: 'header-two' },\r\n        { label: 'Heading Small', style: 'header-three' }\r\n      ],\r\n      BLOCK_TYPE_BUTTONS: [\r\n        { label: 'UL', style: 'unordered-list-item' },\r\n        { label: 'OL', style: 'ordered-list-item' }\r\n      ]\r\n    };\r\n    if (this.state.shouldRender) {\r\n      return (\r\n        <RichTextEditorDefault\r\n          value={this.state.value}\r\n          onChange={this.onChange}\r\n          toolbarConfig={toolbarConfig}\r\n          />\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nconst renderField = ({ className, input, label, type, meta: { touched, error } }) => (\r\n  <div>\r\n    <div>\r\n      <input {...input} type={type} placeholder={label} />\r\n      {touched && error && <span>{error}</span>}\r\n    </div>\r\n  </div>\r\n)\r\n\r\n\r\nconst renderIngredients = ({ fields }) => (\r\n  <div >\r\n    <div>\r\n      <label>Ingredients</label>\r\n      <a type='button' onClick={() => fields.push()}><i className=\"material-icons\">add</i>Add</a>\r\n    </div>\r\n    <ul>\r\n      {fields.map((field, index) =>\r\n        <li key={index}>\r\n          <Field\r\n            name={`${field}.amount`}\r\n            type=\"text\"\r\n            component={renderField}\r\n           \r\n            label=\"amount\" />\r\n          of\r\n          <Field\r\n            name={`${field}.name`}\r\n            type=\"text\"\r\n            component={renderField}\r\n           \r\n            label=\"ingredient\" />\r\n          <a type=\"button\" onClick={() => fields.remove(index)}><i className=\"material-icons\">clear</i></a>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\n\r\nexport default renderIngredients;","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nclass RecipeCreatedPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>recipe added successfully</h1>\r\n        <p>thank you for your contribution</p>\r\n        <p>you can manage your recipes on your profile page</p>\r\n        <Link to=\"/create\"><i className=\"material-icons\">add</i> add another one</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecipeCreatedPage;\r\n","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nclass RecipeDeletedPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>recipe deleted</h1>\r\n        <p>it has been utterly destroyed</p>\r\n        <Link to=\"/create\"><i className=\"material-icons\">add</i> add another one</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RecipeDeletedPage;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport callApi from '../../../../util/api';\r\n\r\nimport RecipeCreateForm from '../../components/RecipeCreateForm/RecipeCreateForm';\r\n\r\n// Import Actions\r\nimport { fetchCategories } from '../../../Category/CategoryActions';\r\nimport { fetchRecipe, updateRecipeRequest } from '../../RecipeActions';\r\n\r\n// Import Selectors\r\nimport { getCategories } from '../../../Category/CategoryReducer';\r\nimport { getRecipe } from '../../RecipeReducer';\r\n\r\nexport class RecipeEditPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.dispatch(fetchCategories());\r\n  }\r\n\r\n  handleCreate = (fields) => {\r\n    this.props.dispatch(updateRecipeRequest(this.props.recipe.cuid, fields));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Edit recipe</h1>\r\n        <RecipeCreateForm editMode=\"true\" initialValues={this.props.recipe} handleCreate={this.handleCreate} categories={this.props.categories} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Actions required to provide data for this component to render in sever side.\r\nRecipeEditPage.need = [\r\n  () => fetchCategories(),\r\n  ({ params, state }) => fetchRecipe(params.cuid, state.auth.token)\r\n];\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state, props) {\r\n  return {\r\n    categories: getCategories(state),\r\n    recipe: getRecipe(state, props.params.cuid),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(RecipeEditPage);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport LoginForm from '../../components/loginform/loginform';\r\nimport { FacebookButton, GoogleButton, TwitterButton } from '../../components/SocialSignInButtons/SocialSignInButtons';\r\n\r\nimport { getMessage } from '../../AuthReducer';\r\nimport env from '../../../../env';\r\n\r\nclass LoginPage extends React.Component {\r\n\r\n  handleLogin = ({email, password}) => {\r\n    this.props.dispatch(loginUserRequest({ email, password }));\r\n  };\r\n\r\n  handleFacebookLogin = () => {\r\n    this.props.dispatch(facebookLoginRequest()).then( () => location.reload());\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n          <header>\r\n              <h1>login</h1>\r\n            </header>\r\n          <section >\r\n            <a href={`https://www.facebook.com/v2.10/dialog/oauth?client_id=${env.FACEBOOK_APP_ID}&redirect_uri=${env.FACEBOOK_REDIRECT_URL}`}><button>Facebook</button></a>\r\n          </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state, props) {\r\n  return {\r\n    message: getMessage(state)\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginPage);\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { renderInput, SubmitButton } from '../../../../components/form/formInputs';\r\nimport { Link } from 'react-router';\r\n\r\n\r\nconst validate = values => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = 'Required!';\r\n  }\r\n  if (!values.password) {\r\n    errors.password = 'Required!';\r\n  }\r\n  return errors;\r\n}\r\n\r\nconst formStyle = { width: '300px;' };\r\n\r\nlet LoginForm = ({ handleSubmit, login, message, invalid, submitting, pristine }) => (\r\n  <div>\r\n    <form onSubmit={handleSubmit(login)}>\r\n      <div>{message}</div>\r\n      <Field name=\"email\" icon=\"fa-envelope\" component={renderInput} type=\"text\" label=\"Email\" />\r\n      <Field name=\"password\" icon=\"fa-unlock-alt\" component={renderInput} type=\"password\" label=\"Password\" />\r\n      <SubmitButton text=\"let me in\" disabled={{ invalid, submitting, pristine }} />\r\n      <div>\r\n      <Link to=\"/signup\">sign up</Link><a>forgot password?</a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n)\r\n\r\nexport default reduxForm({ form: 'loginForm', validate })(LoginForm);","import React from 'react';\r\n\r\nexport const FacebookButton = ({auth}) => (\r\n  <a onClick={auth} >\r\n  <i className=\"fa fa-facebook\"></i>\r\n  <span>facebook</span>  \r\n  </a>\r\n);\r\n\r\nexport const GoogleButton = ({auth}) => (\r\n  <a onClick={()=>{auth()}} >\r\n  <i className=\"fa fa-google-plus\"></i>\r\n  <span>google+</span>  \r\n  </a>\r\n);\r\n\r\nexport const TwitterButton = ({auth}) => (\r\n  <a onClick={()=>{auth()}} >\r\n  <i className=\"fa fa-twitter\"></i>\r\n  <span>twitter</span>\r\n  </a>\r\n);","import ActionCreator from '../../util/action-creator';\r\n\r\nexport const ActionCreators = {\r\n  tokenRequested: new ActionCreator('TOKEN_REQUESTED'),\r\n  tokenRecieved: new ActionCreator('TOKEN_RECIEVED'),\r\n};\r\n\r\nconst initialState = {\r\n  error: '',\r\n  message: '',\r\n  authenticated: false,\r\n  token: '',\r\n  fetching: false,\r\n  user: {}\r\n};\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n  let partialState;\r\n\r\n  switch (action.type) {\r\n    case ActionCreators.tokenRequested.type:\r\n      partialState = { fetching: true };\r\n      break;\r\n    case ActionCreators.tokenRecieved.type:\r\n      partialState = { fetching: false, token: action.payload };\r\n      break;\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return { ...state, ...partialState };\r\n}\r\n\r\nexport const getMessage = state => state.auth.message;\r\n\r\nexport default AuthReducer;\r\n","export default {\n  \"FACEBOOK_APP_ID\": \"1005914192867598\",\n  \"FACEBOOK_REDIRECT_URL\": \"http://localhost:3001/facebook/\"\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { requestToken } from '../../AuthThunks';\r\nimport { browserHistory } from 'react-router'\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.auth.user,\r\n});\r\n\r\nconst dispatchToProps = {\r\n  requestToken: requestToken,\r\n};\r\n\r\n\r\nclass LoginLandingPage extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    this.props.requestToken(this.props.location.query.code).then(data => {\r\n      browserHistory.push('/');\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return <div>facebook login</div>;\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, dispatchToProps)(LoginLandingPage);\r\n","import api from '../../util/api';\r\nimport { push } from 'react-router-redux'\r\nimport { ActionCreators as AuthActionCreators } from './AuthReducer';\r\nimport { ActionCreators as UserActionCreators } from '../User/UserReducer';\r\n\r\nexport function requestToken(code) {\r\n  return dispatch => {\r\n    dispatch(AuthActionCreators.tokenRequested.create());\r\n    return api.get(`auth/facebook?code=${code}`)\r\n      .then(({ token, user }) => {\r\n        dispatch(AuthActionCreators.tokenRecieved.create(token));\r\n        dispatch(UserActionCreators.userRecieved.create(user));\r\n        localStorage.setItem('token', token);\r\n        return token;\r\n      });\r\n  }\r\n}\r\n\r\nexport function logOutUser() {\r\n  return dispatch => {\r\n    cookie.remove('token');\r\n    dispatch(logout());\r\n  }\r\n}\r\n","import ActionCreator from '../../util/action-creator';\r\n\r\nexport const ActionCreators = {\r\n  userRecieved: new ActionCreator('USER_RECIEVED'),\r\n};\r\n\r\nconst initialState = {};\r\n\r\nconst UserReducer = (state = initialState, action) => {\r\n  let partialState;\r\n\r\n  switch (action.type) {\r\n    case ActionCreators.userRecieved.type:\r\n      partialState = action.payload;\r\n      break;\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return { ...state, ...partialState };\r\n};\r\n\r\nexport const getUser = state => state.user;\r\n\r\nexport default UserReducer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nexport function SignupPage(props) {\r\n  return (\r\n    <div>\r\n      <form action=\"/auth/signup\" method=\"post\">\r\n        <h3>Signup</h3>\r\n        <input type='text' name=\"email\" placeholder='email'/>\r\n        <input type='password' name=\"password\" placeholder='password'/>\r\n        <button type=\"submit\">Signup!</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state, props) {\r\n  return {};\r\n}\r\n\r\nexport default connect(mapStateToProps)(SignupPage);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport callApi from '../../../util/api';\r\nimport { browserHistory } from 'react-router';\r\n\r\nimport UserRecipes from '../components/UserRecipes';\r\n\r\n// Import Actions\r\nimport { fetchUser, addUser, removeUser } from '../UserActions';\r\nimport { logOutUser } from '../../Auth/AuthThunks';\r\nimport { fetchRecipe } from '../../Recipe/RecipeActions';\r\n\r\n// Import Selectors\r\nimport { getUser } from '../UserReducer';\r\n\r\nexport class UserPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.dispatch(fetchUser(this.props.params.id));\r\n  }\r\n\r\n  goToRecipe = (cuid, slug) => {\r\n    this.props.dispatch(fetchRecipe(cuid)).then(() => {\r\n      browserHistory.push(`/recipes/${slug}-${cuid}`);\r\n    });\r\n  }\r\n\r\n  signOut = () => {\r\n    this.props.dispatch(logOutUser());\r\n    this.props.dispatch(removeUser());\r\n    browserHistory.push(`/`);\r\n    location.reload();\r\n  }\r\n\r\n  goToAbout = () => {\r\n    browserHistory.push(`/about`);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>{this.props.user.username}</h1>\r\n        <button onClick={this.signOut}>sign out</button>\r\n        <button onClick={this.goToAbout}>about salash</button>\r\n        <h2>recipes</h2>\r\n        <UserRecipes goToRecipe={this.goToRecipe} user={this.props.user} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// Actions required to provide data for this component to render in sever side.\r\nUserPage.need = [({ params }) => { return fetchUser(params.id); }];\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: getUser(state),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserPage);\r\n","import React from 'react';\r\nimport { Link } from 'react-router';\r\n\r\nexport default ({ user, goToRecipe }) => (\r\n  <div>\r\n    {\r\n      user.recipes && !user.recipes.length\r\n        ? <span>{user.username}has no recipes :(</span> : null\r\n    }\r\n    {user.recipes && user.recipes.map((recipe, index) => (\r\n      <div key={index}>\r\n        <span onClick={() => goToRecipe(recipe.cuid, recipe.slug)}>♥{recipe.loves.low} {recipe.title}</span>\r\n      </div>\r\n    ))}\r\n  </div>\r\n);","import callApi from '../../util/api';\r\n\r\nexport function fetchUser(id) {\r\n  return (dispatch) => {\r\n    return callApi(`users/${id}`).then(res => dispatch(addUser(res.user)));\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nexport function NotFoundPage(props) {\r\n  return (\r\n    <div>\r\n      <form action=\"/auth/authenticate\" method=\"post\">\r\n        <h1>404 - Page Not Found</h1>\r\n        <p>Bruh, what u doin out here?</p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Retrieve data from store as props\r\nfunction mapStateToProps(state, props) {\r\n  return {};\r\n}\r\n\r\nexport default connect(mapStateToProps)(NotFoundPage);\r\n","/**\r\n * Main store function\r\n */\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nexport function configureStore(initialState = {}) {\r\n\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n  // Middleware and store enhancers\r\n  const enhancers = [\r\n    applyMiddleware(thunk),\r\n  ];\r\n\r\n  const store = createStore(rootReducer, initialState, composeEnhancers(...enhancers));\r\n  return store;\r\n}\r\n","/**\r\n * Root Reducer\r\n */\r\nimport { combineReducers } from 'redux';\r\n\r\n// Import Reducers\r\nimport app from './modules/App/app-reducer';\r\nimport recipes from './modules/Recipe/RecipeReducer';\r\nimport categories from './modules/Category/CategoryReducer';\r\nimport auth from './modules/Auth/AuthReducer';\r\nimport user from './modules/User/UserReducer';\r\nimport { routerReducer as routing } from 'react-router-redux';\r\nimport { reducer as form } from 'redux-form'\r\n\r\n// Combine all reducers into one root reducer\r\nexport default combineReducers({\r\n  routing,\r\n  form,\r\n  app,\r\n  recipes,\r\n  categories,\r\n  auth,\r\n  user\r\n});\r\n"]}